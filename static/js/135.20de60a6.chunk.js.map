{"version":3,"file":"static/js/135.20de60a6.chunk.js","mappings":"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","sources":["Services/Api.js","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = \"0846bf312f0a1b3f0d9b691dd26eb2d9\";\n\n\nasync function fetchTrendingMovies () {\n  try {\n    const response = await axios.get(\n      `trending/all/day?api_key=${API_KEY}`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n//fetchSearchMovies().then(response =>console.log(response)) \n\nasync function fetchSearchMovies(query) {\n   try {\n    const response = await axios.get(\n      `search/movie?api_key=${API_KEY}&query=${query}&language=en-US`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n\n//fetchSearchMovies('king').then(response =>console.log(response)) \n\nasync function fetchMovieDetails(id) {\n   try {\n    const response = await axios.get(\n      `movie/${id}?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//fetchMovieDetails(113082).then(response =>console.log(response)) \n\nasync function fetchMovieCast(id) {\n   try {\n    const response = await axios.get(\n      `movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data.cast;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//fetchMovieCast(459003).then(response =>console.log(response)) \n\nasync function fetchMovieReviews(id) {\n   try {\n    const response = await axios.get(\n      `movie/${id}/reviews?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//fetchMovieReviews(447365).then(response =>console.log(response)) \n\n\nexport { fetchTrendingMovies, fetchSearchMovies, fetchMovieDetails, fetchMovieCast, fetchMovieReviews };\n\n\n\n\n\n/*async function getUser() {\n  try {\n    const response = await axios.get('/user?ID=12345');\n    console.log(response);\n  } catch (error) {\n    console.error(error);\n  }\n}*/\n\n\n\n\n\n\n\n/*/*const options = {\n    method: 'GET',\n    headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwODQ2YmYzMTJmMGExYjNmMGQ5YjY5MWRkMjZlYjJkOSIsInN1YiI6IjY0YTE1NjU2ODFkYTM5MDEwYjhiN2ZkZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fu4JWQK_iKfB2CFB3482KCb1ZQWN0GnpevA4-rrxWVk',\n    },\n};\n     \nasync function fetchTrendingMovies() {\n    const response = await axios.get('/trending/all/day?language=en-US', options);\n    console.log(response.data.results)\n    return response.data.results;\n}*/","// extracted by mini-css-extract-plugin\nexport default {\"movie__container\":\"MovieDetails_movie__container__Frdjx\",\"movie__box\":\"MovieDetails_movie__box__jsIk-\",\"movie__image\":\"MovieDetails_movie__image__lLJIF\",\"movie__title\":\"MovieDetails_movie__title__IriAM\",\"descriptin__title\":\"MovieDetails_descriptin__title__4wRL8\",\"editional__title\":\"MovieDetails_editional__title__7-OxC\",\"movie__text\":\"MovieDetails_movie__text__N3Mp6\"};","import { NavLink, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { Suspense, useEffect, useRef, useState } from 'react';\nimport { fetchMovieDetails } from 'Services/Api';\nimport css from './MovieDetails.module.css';\nimport Loader from 'components/Loader/Loader';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [details, setDetails] = useState({});\n  const { title, poster_path, genres, vote_average, release_date, overview } =\n    details;\n\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? './movies');\n\n  const getDate = new Date(release_date).getFullYear();\n  const userScore = Math.round(vote_average * 10);\n\n  useEffect(() => {\n    if (!movieId) return;\n    fetchMovieDetails(movieId)\n      .then(response => setDetails({ ...response }))\n      .catch(error => {\n        console.error('Error fetching video data:', error);\n      });\n  }, [movieId]);\n\n  return (\n    <main className={css.movie__container}>\n      <Link to={backLinkLocationRef.current}>\n        {' '}\n        <button type=\"button\">Go back</button>\n      </Link>\n      {details && (\n        <div>\n          <div className={css.movie__box}>\n            <img\n              className={css.movie__image}\n              src={\n                poster_path\n                  ? 'https://image.tmdb.org/t/p/w300' + poster_path\n                  : 'https://via.placeholder.com/300x450'\n              }\n              width={300}\n              height={450}\n              alt=\"title\"\n            />\n            <div>\n              <h2 className={css.movie__title}>\n                {title} ({getDate})\n              </h2>\n              <p className={css.movie__text}>User score: {userScore}%</p>\n              <h3 className={css.descriptin__title}>Overview:</h3>\n              <p className={css.movie__text}>{overview}</p>\n              <h3 className={css.descriptin__title}>Genres:</h3>\n              {genres?.map(genre => (\n                <li key={genre.id}>{genre.name ? genre.name : 'Unknown'}</li>\n              ))}\n            </div>\n          </div>\n          <div>\n            <h3 className={css.descriptin__title}>Additional information:</h3>\n            <ul>\n              <li>\n                <NavLink className={css.editional__title} to=\"cast\">\n                  Cast\n                </NavLink>\n              </li>\n              <li>\n                <NavLink className={css.editional__title} to=\"reviews\">\n                  Movie review\n                </NavLink>\n              </li>\n            </ul>\n          </div>\n        </div>\n      )}\n      {/* <Suspense fallback={<div>Loading...</div>}> */}\n      <Suspense fallback={<Loader/>}>\n        <Outlet />\n      </Suspense>\n    </main>\n  );\n};\n\nexport default MovieDetails;\n\n/*\nconst MovieDetails = () => {\n    const location = useLocation();\n    const backLinkLocationRef = useRef(location.state?.from ?? \"/movies\");\n    //щоб передати link попередній при переході на reviews чи cast\n    //зберігаємо location з якого прийшли. Щоб глибоко не прокидати пропс\n    const { movieId } = useParams()\n    //console.log(params)  //{movieId: 'movie1'}\n    //console.log(location)\n    console.log(backLinkLocationRef)\n    /*  useEffect(() => {\n     //HTTP запит, якщо потрібен   \n    }, []) отримати ідентифікатор фільму movieId  і робити запит */\n\n//location.state &&  location.state.from = location.state?.from\n/*return <>\n        <h2> Movie Details: {movieId}</h2>\n        <Link to={backLinkLocationRef.current}>Назад на сторінку пошуку</Link>\n        <ul>\n            <li>\n                <Link to=\"cast\">Movie cast</Link>\n            </li>\n            <li>\n                <Link to=\"reviews\">Movie reviews</Link>\n            </li>\n        </ul>\n        <Suspense fallback={<div>Loading subpage...</div>}>\n            <Outlet />\n        </Suspense>\n        \n    </>\n};\n\nexport default MovieDetails;\n*/\n"],"names":["axios","API_KEY","fetchTrendingMovies","response","data","results","console","error","fetchSearchMovies","query","log","fetchMovieDetails","id","fetchMovieCast","cast","fetchMovieReviews","movieId","useParams","useState","details","setDetails","title","poster_path","genres","vote_average","release_date","overview","location","useLocation","backLinkLocationRef","useRef","state","from","getDate","Date","getFullYear","userScore","Math","round","useEffect","then","catch","className","css","to","current","type","src","width","height","alt","map","genre","name","Suspense","fallback","Loader"],"sourceRoot":""}