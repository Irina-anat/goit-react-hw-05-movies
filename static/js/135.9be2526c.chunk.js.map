{"version":3,"file":"static/js/135.9be2526c.chunk.js","mappings":"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","sources":["Services/Api.js","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = \"0846bf312f0a1b3f0d9b691dd26eb2d9\";\n\n\nasync function fetchTrendingMovies () {\n  try {\n    const response = await axios.get(\n      `trending/all/day?api_key=${API_KEY}`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n//fetchSearchMovies().then(response =>console.log(response)) \n\nasync function fetchSearchMovies(query) {\n   try {\n    const response = await axios.get(\n      `search/movie?api_key=${API_KEY}&query=${query}&language=en-US`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n\n//fetchSearchMovies('king').then(response =>console.log(response)) \n\nasync function fetchMovieDetails(id) {\n   try {\n    const response = await axios.get(\n      `movie/${id}?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//fetchMovieDetails(113082).then(response =>console.log(response)) \n\nasync function fetchMovieCast(id) {\n   try {\n    const response = await axios.get(\n      `movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data.cast;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//fetchMovieCast(459003).then(response =>console.log(response)) \n\nasync function fetchMovieReviews(id) {\n   try {\n    const response = await axios.get(\n      `movie/${id}/reviews?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//fetchMovieReviews(447365).then(response =>console.log(response)) \n\n\nexport { fetchTrendingMovies, fetchSearchMovies, fetchMovieDetails, fetchMovieCast, fetchMovieReviews };\n\n\n\n\n\n/*async function getUser() {\n  try {\n    const response = await axios.get('/user?ID=12345');\n    console.log(response);\n  } catch (error) {\n    console.error(error);\n  }\n}*/\n\n\n\n\n\n\n\n/*/*const options = {\n    method: 'GET',\n    headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwODQ2YmYzMTJmMGExYjNmMGQ5YjY5MWRkMjZlYjJkOSIsInN1YiI6IjY0YTE1NjU2ODFkYTM5MDEwYjhiN2ZkZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fu4JWQK_iKfB2CFB3482KCb1ZQWN0GnpevA4-rrxWVk',\n    },\n};\n     \nasync function fetchTrendingMovies() {\n    const response = await axios.get('/trending/all/day?language=en-US', options);\n    console.log(response.data.results)\n    return response.data.results;\n}*/","// extracted by mini-css-extract-plugin\nexport default {\"movie__container\":\"MovieDetails_movie__container__Frdjx\",\"movie__box\":\"MovieDetails_movie__box__jsIk-\",\"movie__image\":\"MovieDetails_movie__image__lLJIF\",\"movie__title\":\"MovieDetails_movie__title__IriAM\",\"descriptin__title\":\"MovieDetails_descriptin__title__4wRL8\",\"editional__title\":\"MovieDetails_editional__title__7-OxC\",\"movie__text\":\"MovieDetails_movie__text__N3Mp6\"};","import { NavLink, Outlet, useLocation, useParams } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport { Suspense, useEffect, useRef, useState } from \"react\";\nimport { fetchMovieDetails } from \"Services/Api\";\nimport css from './MovieDetails.module.css';\n\n\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [details, setDetails] = useState({});\n  const location = useLocation();\n  const { title, poster_path, genres, vote_average, release_date, overview } = details;\n  const backLinkLocationRef = useRef(location.state?.from ?? './movies');\n  const getDate = new Date(release_date).getFullYear();\n  const userScore = Math.round(vote_average * 10);\n    \n  useEffect(() => {\n    if (!movieId) return;\n    fetchMovieDetails(movieId)\n      .then(response => setDetails({ ...response }))\n      .catch(error => {\n        console.error(\"Error fetching video data:\", error);\n      });\n  }, [movieId]);\n  \n \n  return (\n    <div className={css.movie__container}>\n      <Link to={backLinkLocationRef.current}> <button type=\"button\">Go back</button></Link>\n      {details && (\n        <div>\n          <div className={css.movie__box}>\n            <img className={css.movie__image}\n              src={\n                poster_path\n                  ? 'https://image.tmdb.org/t/p/w300' + poster_path\n                  : 'https://via.placeholder.com/200x200'\n              }\n              width={400}\n              alt=\"title\"\n            />\n            <div>\n              <h2 className={css.movie__title}>{title} ({getDate})</h2>\n              <p className={css.movie__text}>User score: {userScore}%</p>\n              <h3 className={css.descriptin__title}>Overview:</h3>\n              <p className={css.movie__text}>{overview}</p>\n              <h3 className={css.descriptin__title}>Genres:</h3>\n              {genres?.map(genre => (\n                <li key={genre.id}>{genre.name ? genre.name : 'Unknown'}</li>))}\n            </div>\n          </div>\n          <div>\n            <h3 className={css.descriptin__title}>Additional information:</h3>\n            <ul>\n              <li><NavLink className={css.editional__title} to=\"cast\">Cast:</NavLink></li>\n              <li><NavLink className={css.editional__title} to=\"reviews\">Movie review:</NavLink></li>\n            </ul>\n          </div>\n        </div>\n      )}\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n\n\n\n/*\nconst MovieDetails = () => {\n    const location = useLocation();\n    const backLinkLocationRef = useRef(location.state?.from ?? \"/movies\");\n    //щоб передати link попередній при переході на reviews чи cast\n    //зберігаємо location з якого прийшли. Щоб глибоко не прокидати пропс\n    const { movieId } = useParams()\n    //console.log(params)  //{movieId: 'movie1'}\n    //console.log(location)\n    console.log(backLinkLocationRef)\n    /*  useEffect(() => {\n     //HTTP запит, якщо потрібен   \n    }, []) отримати ідентифікатор фільму movieId  і робити запит */\n\n    //location.state &&  location.state.from = location.state?.from\n    /*return <>\n        <h2> Movie Details: {movieId}</h2>\n        <Link to={backLinkLocationRef.current}>Назад на сторінку пошуку</Link>\n        <ul>\n            <li>\n                <Link to=\"cast\">Movie cast</Link>\n            </li>\n            <li>\n                <Link to=\"reviews\">Movie reviews</Link>\n            </li>\n        </ul>\n        <Suspense fallback={<div>Loading subpage...</div>}>\n            <Outlet />\n        </Suspense>\n        \n    </>\n};\n\nexport default MovieDetails;\n*/ "],"names":["axios","API_KEY","fetchTrendingMovies","response","data","results","console","error","fetchSearchMovies","query","log","fetchMovieDetails","id","fetchMovieCast","cast","fetchMovieReviews","movieId","useParams","useState","details","setDetails","location","useLocation","title","poster_path","genres","vote_average","release_date","overview","backLinkLocationRef","useRef","state","from","getDate","Date","getFullYear","userScore","Math","round","useEffect","then","catch","className","css","to","current","type","src","width","alt","map","genre","name","Suspense","fallback"],"sourceRoot":""}